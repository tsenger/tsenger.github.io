<!doctype html>
<html class="h-100" lang="en">

  <head>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="description" content="Sealva - Technical Documentation for Certificate Set Import">
  <link rel="apple-touch-icon" sizes="180x180" href="img/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="96x96" href="img/favicon-96x96.png">
  <meta name="author" content="Holger Koenemann">
  <meta name="generator" content="Eleventy v2.0.1">
  <meta name="HandheldFriendly" content="true">
  <title>Sealva - Technical Documentation</title>
  <link rel="stylesheet" href="css/min/theme.css">
     <link rel="stylesheet" href="css/aos.css">

    <style>
  .bg-img {
       background-image: url(./img/webp/bck8.webp);
   }
   @media only screen and (max-width: 576px) {
       .bg-img {
           background-image: url(./img/webp/bck8_xs.webp);
       }
   }
   @media only screen and (max-width: 992px) {
       .bg-img {
           background-image: url(./img/webp/bck8_xs.webp);
       }
   }
   @media only screen and (max-width: 1440px) {
       .bg-img {
           background-image: url(./img/webp/bck8_md.webp);
       }
   }
   @media only screen and (min-width: 1441px) {
       .bg-img {
           background-image: url(./img/webp/bck8_xl.webp);
       }
   }
   </style>

   <style>

/* inter-300 - latin */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: local(''),
       url('./fonts/inter-v12-latin-300.woff2') format('woff2'),
       url('./fonts/inter-v12-latin-300.woff') format('woff');
}

@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: local(''),
       url('./fonts/inter-v12-latin-500.woff2') format('woff2'),
       url('./fonts/inter-v12-latin-500.woff') format('woff');
}
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local(''),
       url('./fonts/inter-v12-latin-700.woff2') format('woff2'),
       url('./fonts/inter-v12-latin-700.woff') format('woff');
}

</style>

  </head>

  <body class="position-relative d-flex h-100 w-100" data-bs-spy="scroll" data-bs-target="#navScroll">
    <div class="h-100 container-fluid position-relative">
      <div class="h-100 row d-flex align-items-stretch position-relative z-1">

          <div class="p-0 col-11 col-sm-10 col-md-9 col-lg-8 col-xl-7 col-xxl-5 d-flex align-items-start flex-column shadow position-relative">

            <header class="mb-auto py-vh-2 col-12 px-vw-5">
              <nav id="navScroll" class="navbar navbar-expand-lg navbar-dark d-flex px-3" tabindex="0">
    <a class="navbar-brand d-flex align-items-center flex-grow-1 link-opacity-50-hover link-dark" href="index.html">
  <div class="fw-bold fs-4" style="font-family: monospace;">tsenger</div>
</a>

    <div class="col-auto ps-2 ms-2" id="navbarSupportedContent">
      <ul class="nav ms-auto mb-2 mb-lg-0 ms-2 list-inline list-unstyled">
      <li class="nav-item">
        <a class="nav-link pe-3 link-dark link-opacity-50-hover" aria-label="Link to my Mastodon Profile" href="https://bonn.social/@barit" target="_blank">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link link-dark link-opacity-50-hover" href="https://github.com/tsenger" aria-label="Link to my GitHub Profil Page" target="_blank">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
      </a>
    </li>

    </ul>
    </div>
</nav>

            </header>
            <main class="mb-auto col-12 px-vw-5">
              <div class="row d-flex justify-content-center">
  <div class="col-12 col-xl-10 col-xxl-8 mt-3 px-4 px-sm-0">

    <div class="mb-4" data-aos="fade-left" data-aos-delay="100">
      <p class="small">
        <a href="sealva.html" class="link-dark link-underline">
          &larr; Back to Sealva
        </a>
      </p>
    </div>

    <h1 data-aos="fade-left" data-aos-delay="200">
      Technical Documentation
    </h1>

    <p class="lead pb-4 border-bottom mb-5" data-aos="fade-left"
       data-aos-delay="300">
      JSON format for importing external Certificate Sets
      into Sealva Mobile App
    </p>

    <div data-aos="fade-left" data-aos-delay="400">
      <h2 class="h4 mb-3">Overview</h2>
      <p>
        To import external Certificate Sets into the Sealva Mobile App,
        a QR code containing specific JSON data is required. This QR code
        provides the app with the necessary information to download and
        import certificate keystores.
      </p>

      <h2 class="h4 mb-3 mt-5">QR Code JSON Format</h2>
      <p>
        The QR code must contain a JSON object with the following
        structure:
      </p>

      <h3 class="h5 mb-2 mt-4">Fields</h3>
      <dl class="row">
        <dt class="col-sm-3 fw-bold">
          <code>certUrl</code>
        </dt>
        <dd class="col-sm-9">
          The complete URL to the keystore collection endpoint<br>
          <small class="text-muted">
            Format:
            <code>https://backend.server.example/certSet</code>
          </small>
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>certSetName</code>
        </dt>
        <dd class="col-sm-9">
          The name of the Certificate Set (string)
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>certSetId</code>
        </dt>
        <dd class="col-sm-9">
          The unique ID of the Certificate Set (UUID) for internal reference purpose
        </dd>
      </dl>

      <h3 class="h5 mb-2 mt-4">Example</h3>
      <pre class="bg-light p-4 rounded"
           style="overflow-x: auto;"><code>{
  "certUrl": "https://backend.server.example/certSet",
  "certSetName": "My Certificate Set",
  "certSetId": "550e8400-e29b-41d4-a716-446655440000"
}</code></pre>

      <h2 class="h4 mb-3 mt-5">Certificate Collection Response</h2>
      <p>
        When the Sealva app calls the <code>certUrl</code>,
        the server must respond with a JSON object containing
        references to the actual certificate keystores.
      </p>

      <h3 class="h5 mb-2 mt-4">Response Structure</h3>
      <dl class="row">
        <dt class="col-sm-3 fw-bold">
          <code>ca</code>
        </dt>
        <dd class="col-sm-9">
          Certificate Authority keystore object
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>ds</code>
        </dt>
        <dd class="col-sm-9">
          Document Signer keystore object
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>sksInfoVersion</code>
        </dt>
        <dd class="col-sm-9">
          Version of the SKS Info structure (always 2)
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>lastPublished</code>
        </dt>
        <dd class="col-sm-9">
          Timestamp of last publication
          (Unix timestamp in milliseconds)
        </dd>
      </dl>

      <h3 class="h5 mb-2 mt-4">Keystore Object Structure</h3>
      <p>
        Both <code>ca</code> and <code>ds</code> objects have the
        following fields:
      </p>
      <dl class="row">
        <dt class="col-sm-3 fw-bold">
          <code>format</code>
        </dt>
        <dd class="col-sm-9">
          For Sealva, only "zip" is supported
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>url</code>
        </dt>
        <dd class="col-sm-9">
          Download URL for the ZIP file containing the certificates
          (string)
        </dd>

        <dt class="col-sm-3 fw-bold">
          <code>lastupdate</code>
        </dt>
        <dd class="col-sm-9">
          Timestamp of last update
          (Unix timestamp in milliseconds)
        </dd>
      </dl>

      <h3 class="h5 mb-2 mt-4">Example Response</h3>
      <pre class="bg-light p-4 rounded"
           style="overflow-x: auto;"><code>{
  "ca": {
    "format": "zip",
    "url": "https://backend.server.example/certSet/certSetId/ca.zip",
    "lastupdate": 1704297600000
  },
  "ds": {
    "format": "zip",
    "url": "https://backend.server.example/certSet/certSetId/ds.zip",
    "lastupdate": 1704297600000
  },
  "sksInfoVersion": 2,
  "lastPublished": 1704297600000
}</code></pre>

      <h2 class="h4 mb-3 mt-5">Import Process</h2>
      <ol>
        <li class="mb-2">
          User scans the QR code in Sealva Mobile App
        </li>
        <li class="mb-2">
          App parses the JSON to extract <code>certUrl</code>,
          <code>certSetName</code>, and <code>certSetId</code>
        </li>
        <li class="mb-2">
          App calls the <code>certUrl</code> endpoint
        </li>
        <li class="mb-2">
          Server responds with the certificate collection JSON
        </li>
        <li class="mb-2">
          App downloads the ZIP files from <code>ca.url</code>
          and <code>ds.url</code>
        </li>
        <li class="mb-2">
          Certificates are imported and ready for VDS validation
        </li>
      </ol>

      <p class="mt-5 mb-5">
        <a href="sealva.html" class="link-dark link-underline">
          &larr; Back to Sealva
        </a>
      </p>
    </div>
  </div>
</div>

            </main>
                        <footer class="mb-auto col-12 py-vh-3 px-vw-5">

  <div class="row d-flex justify-content-between small">
    <div class="col-12 col-md-auto d-flex justify-content-center">
  <ul class="nav bg-light rounded px-3">
    <li class="nav-item">
      <a class="nav-link link-dark px-0" href="index.html" aria-label="Go home!">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-fill" viewbox="0 0 16 16">
          <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5Z"/>
          <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6Z"/>
        </svg>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link link-dark" href="imprint.html">Imprint</a>
    </li>
    <li class="nav-item">
      <a class="nav-link link-dark" href="contact.html">Contact</a>
    </li>
  </ul>
</div>
  <div class="col-12 col-md text-center text-md-end py-2">
      Made by <a href="https://templatedeck.com" class="link-fancy" target="_blank">templatedeck.com</a>
    </div>
</div>

          </footer>
          </div>

            <div class="col-1 col-sm-2 col-md-3 col-lg-4 col-xl-5 col-xxl-7 bg-cover py-vh-max py-lg-0 bg-black ba-local position-fixed top-0 end-0 z-0 h-100 bg-img" data-aos="fade"></div>

        </div>
      </div>

      <script src="js/bootstrap.bundle.min.js" async></script>
<script src="js/aos.js"></script>
 <script>
 AOS.init({ });
 </script>

  </body>

</html>
